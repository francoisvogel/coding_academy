Let's perform a dfs.
<br>
Upon visiting a new node that has already been marked as visited, check whether it is in the recursion stack. This can easily be implemented with a \(vis[x]\) with three states: \(0\) for not visited, \(1\) when it is a parent in the recursion, and \(2\) when it has been visited and exited.