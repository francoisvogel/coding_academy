Let's perform a depth-first search from each unvisited cell and count the total number of cells visited. Check out the code for more details.